<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="FixMorph - Automated Backporting">
  <meta name="author" content="Ridwan Shariffdeen">

  <title>FixMorph - Automated Backporting</title>

  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet">
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/resume.min.css" rel="stylesheet">

</head>

<body id="page-top">

  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" >
    <a class="navbar-brand js-scroll-trigger" href="#page-top">
      <span class="d-block d-lg-none">Morphix</span>
      <span class="d-none d-lg-block">
      </span>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#overview">Overview</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#workflow">Workflow</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#tool">Tool</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#dataset">Data Set</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#results">Evaluation</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#artifacts">Artifacts</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#patches">Patches</a>
        </li>
      </ul>
    </div>
    <a href="https://hub.docker.com/repository/docker/rshariffdeen/fixmorph"><img height="20" alt="Docker Pulls" src="https://img.shields.io/docker/pulls/rshariffdeen/fixmorph?style=plastic"></a>
    &nbsp;&nbsp;
    <!-- Place this tag where you want the button to render. -->
    <a class="github-button" href="https://github.com/rshariffdeen/FixMorph" data-color-scheme="no-preference: light; light: light; dark: dark;" data-size="large" aria-label="Download rshariffdeen/FixMorph on GitHub">Github Repo</a>
    &nbsp;&nbsp;
    <a href="ISSTA21.pdf"><button class="btn btn-sm btn-dark" style="alignment: right; margin-bottom: 9px;"> Download Pre-Print </button></a>
  </nav>

  <div class="container-fluid">

    <section class="resume-section d-flex align-items-center" id="overview">
      <div class="w-100">
        <br><br>
        <h1 class="mb-0">
          <span class="text-primary">Fix</span>Morph
        </h1>
        <div class="subheading mb-5">Program Transformation, Patch Backporting, Code Transplantation
        </div>
        <p class="lead mb-5" align='justify'>
          <img src="img/FixMorph-Idea.jpeg" style="display: table-cell;float: right; width: 800px">

          Component-oriented programming enables ad-hoc and low-cost code integration from multiple sources,
          which has a negative connotations because it requires developers to port changes and bug fixes from
          peer projects during software evolution. Adding features and fixing bugs often requires systematic
          edits that are similar but not identical changes to many code locations. Finding such locations and
          making the correct edit is a tedious and error-prone process for developers. FixMorph can help
          you in automating the process. In this research, we propose an end-to-end tool named FixMorph that transfer code edits from
          one program  to another similar program by generating an abstract edit script to automatically
          identify edit locations and transform the code to apply and verify the patch. Apart from automation of software maintenance tasks, patch backporting
          helps in reducing the exposure to known security vulnerabilities which have not been fixed.


        </p>
      </div>
    </section>

    <hr class="m-0">

    <section class="resume-section p-3 p-lg-5 d-flex align-items-center" id="workflow">
      <div class="w-100">
        <br><br>
        <h2 class="mb-5">Approach</h2>
        <p class="lead mb-5" align='justify'>
          <img src="img/FixMorph-Workflow.jpeg" style="display: table-cell;float: left; width: 600px; margin-right: 50px">
          Given a pair of reference/donor program versions Pa and Pb and a target/host program Pc to apply the transformation,
          FixMorph first extracts the syntactic edits between Pa and Pb  to learn a transformation that generalizes the change in the code.
          Second, using evolution history (i.e. version control history) and/or clone detection FixMorph localize the correct location to apply
          the transformation from Pa to Pc. Next, analysing the abstract syntax trees of Pa and Pc, FixMorph generates an alignment between the two versions to adapt the learnt
          transformation. Based on the alignment the transformation will be customized with namespace adaptations, code evolution
          (i.e. importing missing dependencies). Finally, the transformation will be enforced to source-level changes using LLVM/Clang front-end
          infrastructure. Finally, the changes will be verified for syntactic correctness using static-analysers.
        </p>
      </div>
    </section>

    <hr class="m-0">

    <section class="resume-section p-3 p-lg-5 d-flex justify-content-center" id="tool">

      <div class="w-100">
        <br><br>
        <h2 class="mb-5">Tool</h2>
        <div class="resume-item d-flex flex-column flex-md-row justify-content-between mb-5" style="margin-top: -50px">
          Implemented in Python and C++, this github repository contains the source for FixMorph and the scripts for the data sets,
          including test suites, that we used for our experiments.
        </div>

        <div class="resume-item d-flex flex-column flex-md-row justify-content-between mb-5">
          <div class="resume-content">
            <h4 class="mb-0">Dependencies</h4>
            <ul>
              <li>
                LLVM - 10.0
              <li>
                Clang - 10.0
              <li>
                Python - 3.7
            </ul>

            <h4 class="mb-0">Source Files</h4>
            <p>
              <a href="https://github.com/rshariffdeen/FixMorph">Github Repository</a>
            </p>

            <h4 class="mb-0">Docker Image</h4>
            <a href="https://hub.docker.com/repository/docker/rshariffdeen/fixmorph">Dockerhub Repository</a><br>
            Docker image only with the tool can be obtained using the tag <b>latest</b><br>
            Docker image with scripts to reproduce the experiments can be obtained using the tag <b>issta21</b>

          </div>

        </div>

      </div>
    </section>

    <hr class="m-0">

    <section class="resume-section p-3 p-lg-5 d-flex align-items-center" id="dataset">
      <div class="w-100">
        <h2 class="mb-5">Data-Set</h2>
        <div>
          <div class="resume-content">
            ADD DATA
          </div>
        </div>
      </div>
    </section>



    <hr class="m-0">

    <section class="resume-section p-3 p-lg-5 d-flex align-items-center" id="results">
      <div class="w-100">
        <h2 class="mb-5">Evaluation Results</h2>
         ADD RESULTS
      </div>
    </section>

    <hr class="m-0">
 <section class="resume-section p-3 p-lg-5 d-flex align-items-center" id="artifacts">
      <div class="w-100">
        <br><br>
        <h2 class="mb-5">Artifacts</h2>
        We provide a replication package for our experiments with FixMorph on the selected data-set in a Docker container, which consists of setup scripts/configuration
        files to re-run the experiments. The Docker environment consists of all dependencies for FixMorph, LLVM, and other dependencies to build the programs in our data-set.
        <br><br>
        You can access the replication package via Dockerhub at this <a href="https://hub.docker.com/repository/docker/rshariffdeen/fixmorph">link </a> (use the tag issta21)
        by using the following command: <br>
        <pre><code>docker pull rshariffdeen/fixmorph:issta21</code></pre>

        You can also download the source to build the image on your own using the source from Github, and the following command: <br>
        <pre><code>docker build -t rshariffdeen/fixmorph . </code></pre>


        For readability, we further provide the list of patches and their details <a href="patches.html">here</a>

      </div>
    </section>
    <hr class="m-0">
    <section class="resume-section p-3 p-lg-5 d-flex align-items-center" id="patches">
      <div class="w-100">
        <br><br>
        <h2 class="mb-5">Patches - Linux Stable Versions</h2>
        We list below the following artifacts for some of the experiment in our evaluation section of the paper; the
        developer patch
        from the mainline, the generated patch by FixMorph for the target, and the manually ported patch by
        developer. <br>

        <br><br>

        <div id="accordion">
          <div class="card">
            <div class="card-header" id="headingOne">
              <h5 class="mb-0">
                <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                  Patch #1
                </button>
              </h5>
            </div>

            <div id="collapseOne" class="collapse collapsed" aria-labelledby="headingOne" data-parent="#accordion">
              <div class="card-body">
                <table border=1 frame=void rules=rows>
                  <tr>
                    <td>
                      <b>Original Patch (Reference)</b><br>
                      Mainline Commit: <a href="https://kernel.googlesource.com/pub/scm/linux/kernel/git/stable/linux-stable/+/19454462%5E!/#F0">19454462</a>
                    </td>
                    <td scope="col" style="width: 15%"></td>
                    <td style="margin-left: 40px">
                      <pre>drivers/usb/class/cdc-acm.c<br>430a431</pre>
                      <pre><code class="language-diff" style="color:green">+   if ((status != -ENOENT) || (urb->actual_length == 0)) </code></pre>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <b>Ported Patch (Manual)</b><br>
                      Stable Commit: <a href="https://kernel.googlesource.com/pub/scm/linux/kernel/git/stable/linux-stable/+/291625aa%5E!/#F0">291625aa</a>
                    </td>
                    <td scope="col" style="width: 15%"></td>
                    <td style="margin-left: 40px">
                      <br>
                      <pre>drivers/usb/class/cdc-acm.c<br>429a430</pre>
                      <pre><code class="language-diff" style="color:green">+   if ((urb->status != -ENOENT) || (urb->actual_length == 0)) </code></pre>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <b>Generated Patch (FixMorph)</b>
                    </td>
                    <td scope="col" style="width: 15%"></td>
                    <td style="margin-left: 40px">
                      <br>
                      <pre>drivers/usb/class/cdc-acm.c<br>429a430</pre>
                      <pre><code class="language-diff" style="color:green">+   int status = urb->status;<br>+   if ((status != -ENOENT) || (urb->actual_length == 0)) </code></pre>
                  </tr>
                </table>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="card-header" id="headingTwo">
              <h5 class="mb-0">
                <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                  Patch #2
                </button>
              </h5>
            </div>
            <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
              <div class="card-body">
                <table border=1 frame=void rules=rows>
                  <tr>
                    <td>
                      <b>Original Patch (Reference)</b><br>
                      Mainline Commit: <a href="https://kernel.googlesource.com/pub/scm/linux/kernel/git/stable/linux-stable/+/61894b02%5E!/#F0">61894b02</a>
                    </td>
                    <td scope="col" style="width: 15%"></td>
                    <td style="margin-left: 40px">
                      <pre>drivers/dma-buf/sw_sync.c<br>222c222</pre>
                      <pre><code class="language-diff" style="color:red">-   return (fence->seqno > parent->value) ? false : true; </code></pre>
                      <pre><code class="language-diff" style="color:green">+   return !__dma_fence_is_later(fence->seqno, parent->value); </code></pre>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <b>Ported Patch (Manual)</b><br>
                      Stable Commit: <a href="https://kernel.googlesource.com/pub/scm/linux/kernel/git/stable/linux-stable/+/fc839ecb%5E!/#F0">fc839ecb</a>
                    </td>
                    <td scope="col" style="width: 15%"></td>
                    <td style="margin-left: 40px">
                      <br>
                      <pre>drivers/dma-buf/sw_sync.c<br>222c222</pre>
                      <pre><code class="language-diff" style="color:red">-   return (fence->seqno > parent->value) ? false : true; </code></pre>
                      <pre><code class="language-diff" style="color:green">+   return !__fence_is_later(fence->seqno, parent->value); </code></pre>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <b>Generated Patch (FixMorph)</b>
                    </td>
                    <td scope="col" style="width: 15%"></td>
                    <td style="margin-left: 40px">
                      <br>
                      <pre>drivers/dma-buf/sw_sync.c<br>222c222</pre>
                      <pre><code class="language-diff" style="color:green">+ static inline bool __dma_fence_is_later(u32 f1, u32 f2) {<br>+ 	return (int)(f1 - f2) > 0;<br>+ }
                                        </code></pre>
                      <pre><code class="language-diff" style="color:red">-   return (fence->seqno > parent->value) ? false : true; </code></pre>
                      <pre><code class="language-diff" style="color:green">+   return !__dma_fence_is_later(fence->seqno, parent->value); </code></pre></td>
                  </tr>
                </table>

              </div>
            </div>
          </div>
          <div class="card">
            <div class="card-header" id="headingThree">
              <h5 class="mb-0">
                <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                  Patch #3
                </button>
              </h5>
            </div>
            <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
              <div class="card-body">
                <table border=1 frame=void rules=rows>
                  <tr>
                    <td>
                      <b>Original Patch (Reference)</b><br>
                      Mainline Commit: <a href="https://kernel.googlesource.com/pub/scm/linux/kernel/git/stable/linux-stable/+/0b1d250a%5E!/#F0">0b1d250a</a>
                    </td>
                    <td scope="col" style="width: 15%"></td>
                    <td style="margin-left: 40px">
                      <pre>drivers/usb/serial/io_ti.c<br>1676a1677,1682</pre>
                      <pre><code class="language-diff" style="color:green">+  if (port_number >= edge_serial->serial->num_ports) {<br>+       dev_err(dev, "bad port number %d\n", port_number); <br>+       goto exit;  <br>+   }
                                        </code></pre>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <b>Ported Patch (Manual)</b><br>
                      Stable Commit: <a href="https://kernel.googlesource.com/pub/scm/linux/kernel/git/stable/linux-stable/+/23b94d65%5E!/#F0">23b94d65</a>
                    </td>
                    <td scope="col" style="width: 15%"></td>
                    <td style="margin-left: 40px">
                      <br>
                      <pre>drivers/usb/serial/io_ti.c<br>1683a1684,1689</pre>
                      <pre><code class="language-diff" style="color:green">+  if (port_number >= edge_serial->serial->num_ports) {<br>+       dev_err(&urb->dev->dev, "bad port number %d\n", port_number); <br>+       goto exit;  <br>+   }
                                        </code></pre>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <b>Generated Patch (FixMorph)</b>
                    </td>
                    <td scope="col" style="width: 15%"></td>
                    <td style="margin-left: 40px">
                      <br>
                      <pre>drivers/dma-buf/sw_sync.c<br>222c222</pre>
                      <pre><code class="language-diff" style="color:green">+  struct device *dev; <br>+  dev = &edge_serial->serial->dev->dev;<br>
                                        </code></pre>
                      <pre><code class="language-diff" style="color:green">+  if (port_number >= edge_serial->serial->num_ports) {<br>+       dev_err(dev, "bad port number %d\n", port_number); <br>+       goto exit;  <br>+   }
                                        </code></pre>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section>

  </div>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for this template -->
  <script src="js/resume.min.js"></script>

</body>

</html>
